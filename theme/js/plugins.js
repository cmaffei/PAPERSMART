function locationSuccess(e){try{var t=localStorage.weatherCache&&JSON.parse(localStorage.weatherCache),n=new Date;if(t&&t.timestamp&&t.timestamp>n.getTime()-18e5){t.data.sys.country=="US"?DEG="F":DEG="C";var r=n.getTimezoneOffset()*60*1e3;$("#weather").html(t.data.name+'&nbsp;&nbsp;&nbsp;&nbsp;<img src="/theme/img/icons/'+t.data.weather[0].icon+'.png" alt="" width="22" height="22" />&nbsp;&nbsp;&nbsp;'+convertTemperature(t.data.main.temp)+"Â°"+DEG)}else{var i="http://api.openweathermap.org/data/2.5/weather?lat="+e.coords.latitude+"&lon="+e.coords.longitude+"&callback=?";$.getJSON(i,function(t){localStorage.weatherCache=JSON.stringify({timestamp:(new Date).getTime(),data:t});if(vez==0){$("#locationList").prepend("<option value='lat="+t.coord.lat+"&lon="+t.coord.lat+"' selected='selected'>"+t.name+"</option>");vez++}locationSuccess(e)})}}catch(s){showError("We can't find information about your city!");window.console&&console.error(s)}}function locationError(e){switch(e.code){case e.TIMEOUT:showError("A timeout occured! Please try again!");break;case e.POSITION_UNAVAILABLE:showError("We can't detect your location. Sorry!");break;case e.PERMISSION_DENIED:showError("Please allow geolocation access for this to work.");break;case e.UNKNOWN_ERROR:showError("An unknown error occured!")}}function convertTemperature(e){return Math.round(DEG=="C"?e-273.15:e*9/5-459.67)}function showError(e){$("#weather").addClass("error").html(e)}function scrollMobile(){setTimeout(function(){if(screen.width>980||screen.height>980)return;window.scrollTo(0,1)},0)}function getWeather(e){var t="http://api.openweathermap.org/data/2.5/weather?"+e+"&callback=?";$.getJSON(t,function(t){localStorage.weatherCache=JSON.stringify({timestamp:(new Date).getTime(),data:t});locationSuccess(e)})}window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var e=[].slice.call(arguments);typeof console.log=="object"?log.apply.call(console.log,console,e):console.log.apply(console,e)}};(function(e){function t(){}for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),r;r=n.pop();)e[r]=e[r]||t})(function(){try{console.log();return window.console}catch(e){return window.console={}}}());(function(e,t,n){function f(e){var t={},r=/^jQuery\d+$/;n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)});return t}function l(e,r){var i=this,s=n(i);if(i.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id"));if(e===!0)return s[0].value=r;s.focus()}else{i.value="";s.removeClass("placeholder");i==t.activeElement&&i.select()}}function c(){var e,t=this,r=n(t),i=r,s=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(o){e=n("<input>").attr(n.extend(f(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":s}).bind("focus.placeholder",l);r.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",s).show()}r.addClass("placeholder");r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}var r="placeholder"in t.createElement("input"),i="placeholder"in t.createElement("textarea"),s=n.fn,o=n.valHooks,u,a;if(r&&i){a=s.placeholder=function(){return this};a.input=a.textarea=!0}else{a=s.placeholder=function(){var e=this;e.filter((r?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":l,"blur.placeholder":c}).data("placeholder-enabled",!0).trigger("blur.placeholder");return e};a.input=r;a.textarea=i;u={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,r){var i=n(e);if(!i.data("placeholder-enabled"))return e.value=r;if(r==""){e.value=r;e!=t.activeElement&&c.call(e)}else i.hasClass("placeholder")?l.call(e,!0,r)||(e.value=r):e.value=r;return i}};r||(o.input=u);i||(o.textarea=u);n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(l);setTimeout(function(){e.each(c)},10)})});n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})})}})(this,document,jQuery);(function(e,t,n){function p(e,t){var n=e.keyCode,r=t.data("dropkick"),i=t.find(".dk_options"),s=t.hasClass("dk_open"),o=t.find(".dk_option_current"),u=i.find("li").first(),f=i.find("li").last(),l,c;switch(n){case a.enter:if(s){d(o.find("a"),t);g(t)}else y(t);e.preventDefault();break;case a.tab:if(s){d(o.find("a"),t);g(t)}break;case a.up:c=o.prev("li");s?c.length?v(c,t):v(f,t):y(t);e.preventDefault();break;case a.down:if(s){l=o.next("li").first();l.length?v(l,t):v(u,t)}else y(t);e.preventDefault();break;default:}}function d(e,t,n){var r,i,s;r=e.attr("data-dk-dropdown-value");i=e.text();s=t.data("dropkick");$select=s.$select;$select.val(r).trigger("change");t.find(".dk_label").text(i);n=n||!1;s.settings.change&&!n&&s.settings.change.call($select,r,i)}function v(e,t){t.find(".dk_option_current").removeClass("dk_option_current");e.addClass("dk_option_current");m(t,e)}function m(e,t){var n=t.prevAll("li").outerHeight()*t.prevAll("li").length;e.find(".dk_options_inner").animate({scrollTop:n+"px"},0)}function g(e){e.removeClass("dk_open")}function y(e){var t=e.data("dropkick");e.find(".dk_options").css({top:e.find(".dk_toggle").outerHeight()-1});e.toggleClass("dk_open")}function b(t,n){var r=t,i=[],s;r=r.replace("{{ id }}",n.id);r=r.replace("{{ label }}",n.label);r=r.replace("{{ tabindex }}",n.tabindex);if(n.options&&n.options.length)for(var o=0,u=n.options.length;o<u;o++){var a=e(n.options[o]),f="dk_option_current",c=l;c=c.replace("{{ value }}",a.val());c=c.replace("{{ current }}",w(a.val())===n.value?f:"");c=c.replace("{{ text }}",a.text());i[i.length]=c}s=e(r);s.find(".dk_options_inner").html(i.join(""));return s}function w(t){return e.trim(t).length>0?t:!1}var r=navigator.userAgent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/),i=!!r,s=i&&parseFloat(r[1])<7;s||(n.documentElement.className=n.documentElement.className+" dk_fouc");var o={},u=[],a={left:37,up:38,right:39,down:40,enter:13,tab:9},f=['<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}">','<a class="dk_toggle">','<span class="dk_label">{{ label }}</span>',"</a>",'<div class="dk_options">','<ul class="dk_options_inner">',"</ul>","</div>","</div>"].join(""),l='<li class="{{ current }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}</a></li>',c={startSpeed:1e3,theme:!1,change:!1},h=!1;o.init=function(t){t=e.extend({},c,t);return this.each(function(){var n=e(this),r=n.find(":selected").first(),i=n.find("option"),s=n.data("dropkick")||{},o=n.attr("id")||n.attr("name"),a=t.width||n.outerWidth(),l=n.attr("tabindex")?n.attr("tabindex"):"",c=!1,h;if(s.id)return n;s.settings=t;s.tabindex=l;s.id=o;s.$original=r;s.$select=n;s.value=w(n.val())||w(r.attr("value"));s.label=r.text();s.options=i;c=b(f,s);c.find(".dk_toggle").css({width:a+"px"});n.before(c);c=e("#dk_container_"+o).fadeIn(t.startSpeed);h=t.theme?t.theme:"default";c.addClass("dk_theme_"+h);s.theme=h;s.$dk=c;n.data("dropkick",s);c.data("dropkick",s);u[u.length]=n;c.bind("focus.dropkick",function(e){c.addClass("dk_focus")}).bind("blur.dropkick",function(e){c.removeClass("dk_open dk_focus")});setTimeout(function(){n.hide()},0)})};o.theme=function(t){var n=e(this),r=n.data("dropkick"),i=r.$dk,s="dk_theme_"+r.theme;i.removeClass(s).addClass("dk_theme_"+t);r.theme=t};o.reset=function(){for(var e=0,t=u.length;e<t;e++){var n=u[e].data("dropkick"),r=n.$dk,i=r.find("li").first();r.find(".dk_label").text(n.label);r.find(".dk_options_inner").animate({scrollTop:0},0);v(i,r);d(i,r,!0)}};o.reload=function(){var t=e(this),n=t.data("dropkick");t.removeData("dropkick");e("#dk_container_"+n.id).remove();t.dropkick(n.settings)};e.fn.dropkick=function(e){if(!s){if(o[e])return o[e].apply(this,Array.prototype.slice.call(arguments,1));if(typeof e=="object"||!e)return o.init.apply(this,arguments)}};e(function(){e(n).on("click",".dk_toggle",function(n){var r=e(this).parents(".dk_container").first();y(r);if("ontouchstart"in t){r.addClass("dk_touch");r.find(".dk_options_inner").addClass("scrollable vertical")}n.preventDefault();return!1});e(n).on(i?"mousedown":"click",".dk_options a",function(t){var n=e(this),r=n.parents(".dk_container").first(),i=r.data("dropkick");g(r);d(n,r);v(n.parent(),r);t.preventDefault();return!1});e(n).bind("keydown.dk_nav",function(t){var n=e(".dk_container.dk_open"),r=e(".dk_container.dk_focus"),i=null;n.length?i=n:r.length&&!n.length&&(i=r);i&&p(t,i)});e(n).on("click",null,function(t){e(t.target).closest(".dk_container").length==0&&g(e(".dk_toggle").parents(".dk_container").first())})})})(jQuery,window,document);var vez=0;$(document).ready(function(){});window.addEventListener?window.addEventListener("load",scrollMobile,!1):window.attachEvent&&window.attachEvent("load",scrollMobile);(function(e){e.fn.clickoutside=function(e){var t=1,n=$(this);n.cb=e;this.click(function(){t=0});$(document).click(function(){t&&n.cb();t=1});return $(this)}})(jQuery);